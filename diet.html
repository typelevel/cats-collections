<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Laika 0.18.1 + Helium Theme" />
    <title>Diet</title>
    
      <meta name="author" content="Nicolas A Perez"/>
    
    
      <meta name="description" content="docs"/>
    
    
      <link rel="icon" sizes="32x32" type="image/png" href="https://typelevel.org/img/favicon.png"/>
    
    
      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700">
    
      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Fira+Mono:500">
    
    <link rel="stylesheet" type="text/css" href="helium/icofont.min.css" />
    <link rel="stylesheet" type="text/css" href="helium/laika-helium.css" />
    <link rel="stylesheet" type="text/css" href="site/styles.css" />
    <script src="helium/laika-helium.js"></script>
    
    
    <script> /* for avoiding page load transitions */ </script>
  </head>

  <body>

    <header id="top-bar">

      <div class="row">
        <a id="nav-icon">
          <i class="icofont-laika" title="Navigation">&#xefa2;</i>
        </a>
        
      </div>

      <a class="image-link" href="https://typelevel.org"><img src="https://typelevel.org/img/logo.svg"></a>

      <span class="row links"><a class="icon-link svg-link" href="https://github.com/typelevel/cats-collections"><span title="Source Code"><svg class="svg-icon" width="100%" height="100%" viewBox="0 0 100 100" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
  <g class="svg-shape">
    <path d="M49.995,1c-27.609,-0 -49.995,22.386 -49.995,50.002c-0,22.09 14.325,40.83 34.194,47.444c2.501,0.458 3.413,-1.086 3.413,-2.412c0,-1.185 -0.043,-4.331 -0.067,-8.503c-13.908,3.021 -16.843,-6.704 -16.843,-6.704c-2.274,-5.773 -5.552,-7.311 -5.552,-7.311c-4.54,-3.103 0.344,-3.042 0.344,-3.042c5.018,0.356 7.658,5.154 7.658,5.154c4.46,7.64 11.704,5.433 14.552,4.156c0.454,-3.232 1.744,-5.436 3.174,-6.685c-11.102,-1.262 -22.775,-5.553 -22.775,-24.713c-0,-5.457 1.949,-9.92 5.147,-13.416c-0.516,-1.265 -2.231,-6.348 0.488,-13.233c0,0 4.199,-1.344 13.751,5.126c3.988,-1.108 8.266,-1.663 12.518,-1.682c4.245,0.019 8.523,0.574 12.517,1.682c9.546,-6.47 13.736,-5.126 13.736,-5.126c2.728,6.885 1.013,11.968 0.497,13.233c3.204,3.496 5.141,7.959 5.141,13.416c0,19.209 -11.691,23.436 -22.83,24.673c1.795,1.544 3.394,4.595 3.394,9.26c0,6.682 -0.061,12.076 -0.061,13.715c0,1.338 0.899,2.894 3.438,2.406c19.853,-6.627 34.166,-25.354 34.166,-47.438c-0,-27.616 -22.389,-50.002 -50.005,-50.002"/>
  </g>
</svg></span></a><a class="icon-link" href="https://discord.gg/XF3CXcMzqD"><i class="icofont-laika" title="Chat">&#xeed5;</i></a><a class="icon-link" href="https://fosstodon.org/@typelevel"><span class="mastodon" title="Mastodon"><svg class="svg-icon svg-link" width="100%" height="100%" viewBox="0 0 16 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
  <g class="svg-shape">
    <path d="M11.19 12.195c2.016-.24 3.77-1.475 3.99-2.603.348-1.778.32-4.339.32-4.339 0-3.47-2.286-4.488-2.286-4.488C12.062.238 10.083.017 8.027 0h-.05C5.92.017 3.942.238 2.79.765c0 0-2.285 1.017-2.285 4.488l-.002.662c-.004.64-.007 1.35.011 2.091.083 3.394.626 6.74 3.78 7.57 1.454.383 2.703.463 3.709.408 1.823-.1 2.847-.647 2.847-.647l-.06-1.317s-1.303.41-2.767.36c-1.45-.05-2.98-.156-3.215-1.928a3.614 3.614 0 0 1-.033-.496s1.424.346 3.228.428c1.103.05 2.137-.064 3.188-.189zm1.613-2.47H11.13v-4.08c0-.859-.364-1.295-1.091-1.295-.804 0-1.207.517-1.207 1.541v2.233H7.168V5.89c0-1.024-.403-1.541-1.207-1.541-.727 0-1.091.436-1.091 1.296v4.079H3.197V5.522c0-.859.22-1.541.66-2.046.456-.505 1.052-.764 1.793-.764.856 0 1.504.328 1.933.983L8 4.39l.417-.695c.429-.655 1.077-.983 1.934-.983.74 0 1.336.259 1.791.764.442.505.661 1.187.661 2.046v4.203z"/>
  </g>
</svg>
</span></a></span>

    </header>

    <nav id="sidebar">

      <div class="row">
        <a class="icon-link svg-link" href="https://github.com/typelevel/cats-collections"><span title="Source Code"><svg class="svg-icon" width="100%" height="100%" viewBox="0 0 100 100" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
  <g class="svg-shape">
    <path d="M49.995,1c-27.609,-0 -49.995,22.386 -49.995,50.002c-0,22.09 14.325,40.83 34.194,47.444c2.501,0.458 3.413,-1.086 3.413,-2.412c0,-1.185 -0.043,-4.331 -0.067,-8.503c-13.908,3.021 -16.843,-6.704 -16.843,-6.704c-2.274,-5.773 -5.552,-7.311 -5.552,-7.311c-4.54,-3.103 0.344,-3.042 0.344,-3.042c5.018,0.356 7.658,5.154 7.658,5.154c4.46,7.64 11.704,5.433 14.552,4.156c0.454,-3.232 1.744,-5.436 3.174,-6.685c-11.102,-1.262 -22.775,-5.553 -22.775,-24.713c-0,-5.457 1.949,-9.92 5.147,-13.416c-0.516,-1.265 -2.231,-6.348 0.488,-13.233c0,0 4.199,-1.344 13.751,5.126c3.988,-1.108 8.266,-1.663 12.518,-1.682c4.245,0.019 8.523,0.574 12.517,1.682c9.546,-6.47 13.736,-5.126 13.736,-5.126c2.728,6.885 1.013,11.968 0.497,13.233c3.204,3.496 5.141,7.959 5.141,13.416c0,19.209 -11.691,23.436 -22.83,24.673c1.795,1.544 3.394,4.595 3.394,9.26c0,6.682 -0.061,12.076 -0.061,13.715c0,1.338 0.899,2.894 3.438,2.406c19.853,-6.627 34.166,-25.354 34.166,-47.438c-0,-27.616 -22.389,-50.002 -50.005,-50.002"/>
  </g>
</svg></span></a><a class="icon-link" href="https://discord.gg/XF3CXcMzqD"><i class="icofont-laika" title="Chat">&#xeed5;</i></a><a class="icon-link" href="https://fosstodon.org/@typelevel"><span class="mastodon" title="Mastodon"><svg class="svg-icon svg-link" width="100%" height="100%" viewBox="0 0 16 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
  <g class="svg-shape">
    <path d="M11.19 12.195c2.016-.24 3.77-1.475 3.99-2.603.348-1.778.32-4.339.32-4.339 0-3.47-2.286-4.488-2.286-4.488C12.062.238 10.083.017 8.027 0h-.05C5.92.017 3.942.238 2.79.765c0 0-2.285 1.017-2.285 4.488l-.002.662c-.004.64-.007 1.35.011 2.091.083 3.394.626 6.74 3.78 7.57 1.454.383 2.703.463 3.709.408 1.823-.1 2.847-.647 2.847-.647l-.06-1.317s-1.303.41-2.767.36c-1.45-.05-2.98-.156-3.215-1.928a3.614 3.614 0 0 1-.033-.496s1.424.346 3.228.428c1.103.05 2.137-.064 3.188-.189zm1.613-2.47H11.13v-4.08c0-.859-.364-1.295-1.091-1.295-.804 0-1.207.517-1.207 1.541v2.233H7.168V5.89c0-1.024-.403-1.541-1.207-1.541-.727 0-1.091.436-1.091 1.296v4.079H3.197V5.522c0-.859.22-1.541.66-2.046.456-.505 1.052-.764 1.793-.764.856 0 1.504.328 1.933.983L8 4.39l.417-.695c.429-.655 1.077-.983 1.934-.983.74 0 1.336.259 1.791.764.442.505.661 1.187.661 2.046v4.203z"/>
  </g>
</svg>
</span></a>
      </div>

      <ul class="nav-list">
        <li class="level1"><a href="index.html">Cats-Collections</a></li>
        <li class="level1"><a href="binaryheap.html">Binary Heap</a></li>
        <li class="level1"><a href="dequeue.html">Dequeue</a></li>
        <li class="level1 active"><a href="#">Diet</a></li>
        <li class="level1"><a href="discrete.html">Discrete</a></li>
        <li class="level1"><a href="disjointsets.html">Disjoint Sets</a></li>
        <li class="level1"><a href="predicate.html">Predicate</a></li>
        <li class="level1"><a href="range.html">Range</a></li>
        <li class="level1"><a href="set.html">AvlSet</a></li>
      </ul>

      <ul class="nav-list">
        <li class="level1 nav-header">Related Projects</li>
        
          <li class="level2"><a href="https://typelevel.org/cats/">cats</a></li>
        
      </ul>

    </nav>

    <div id="container">

      <nav id="page-nav">
        <p class="header"><a href="#">Diet</a></p>

        <ul class="nav-list">
          <li class="level1"><a href="#best-and-worst-case-analysis">Best and Worst Case Analysis.</a></li>
          <li class="level1"><a href="#supported-operations">Supported Operations</a></li>
          <li class="level1"><a href="#diet-is-showable-so-we-can-call-show-on-it"><code>Diet</code> is <em>showable</em> so we can call <code>show</code> on it.</a></li>
          <li class="level1"><a href="#example-usage">Example usage:</a></li>
        </ul>

        <p class="footer"></p>
      </nav>

      <main class="content">

        <h1 id="diet" class="title">Diet</h1>
        <p><code>Diet</code> is a Discrete Interval Encoding Tree. It stores subset of types
        that have a total order. The types are also required to have a
        successor and predecessor generator.</p>
        <p>The discrete interval encoding tree is based on the observation that
        the set of integers { i | a&lt;=i&lt;=b } can be perfectly represented by
        the closed interval [a, b].</p>
        <p><code>Diet</code> is a binary search tree where each node contains a set of
        continuous values. If a value is inserted and it fills the hole
        between to nodes (sets) then the two set become one since all value in
        the new set are consecutive.</p>
        
        <h2 id="best-and-worst-case-analysis" class="section">Best and Worst Case Analysis.<a class="anchor-link right" href="#best-and-worst-case-analysis"><i class="icofont-laika">&#xef71;</i></a></h2>
        <p>The best case is when there is no holes in the stored set, so the tree
        contains only one node (a single interval). In this case, it has O(1)
        space requirement, inserting, deleting and finding a value is in
        constant time.</p>
        <p>In the worst case scenario, there is a hole of size one (1) between
        each node and each node is in fact a set on size one (1). Under these
        circumstances, operations in the tree required O(n).</p>
        
        <h2 id="supported-operations" class="section">Supported Operations<a class="anchor-link right" href="#supported-operations"><i class="icofont-laika">&#xef71;</i></a></h2>
        <ul>
          <li>add:					add a value to the tree</li>
          <li>addRange:				add the entire range to the tree</li>
          <li>remove:				remove a value from the tree</li>
          <li>removeRange:          remove a range from the tree</li>
          <li>contains:				verify is a value is on the tree</li>
          <li>containsRange:		verify that an interval is on the tree</li>
          <li>(<code>-</code>) operator:		remove a range from the tree</li>
          <li>(<code>&amp;</code>) operator:	    calculates the intersection with another <code>Diet</code></li>
          <li>(<code>|</code>) or (<code>++</code>) operator:	calculates the union with another <code>Diet</code></li>
          <li>min:					min value in the tree</li>
          <li>max:					max value in the tree</li>
          <li>intervals:			the list of all intervals (sets) in the tree. The sets are disjoint sets.</li>
          <li>toList: 				list of sorted values in the tree</li>
        </ul>
        
        <h2 id="diet-is-showable-so-we-can-call-show-on-it" class="section"><code>Diet</code> is <em>showable</em> so we can call <code>show</code> on it.<a class="anchor-link right" href="#diet-is-showable-so-we-can-call-show-on-it"><i class="icofont-laika">&#xef71;</i></a></h2>
        
        <h2 id="example-usage" class="section">Example usage:<a class="anchor-link right" href="#example-usage"><i class="icofont-laika">&#xef71;</i></a></h2>
        <p>Start by creating an empty Diet:</p>
        <pre class="keep-together pdf epub"><code class="nohighlight"><span class="keyword">import</span><span> </span><span class="identifier">cats</span><span>.</span><span class="identifier">_</span><span>, </span><span class="identifier">cats</span><span>.</span><span class="identifier">implicits</span><span>.</span><span class="identifier">_</span><span>, </span><span class="identifier">cats</span><span>.</span><span class="identifier">collections</span><span>.</span><span class="identifier">_</span><span>, </span><span class="identifier">cats</span><span>.</span><span class="identifier">collections</span><span>.</span><span class="identifier">syntax</span><span>.</span><span class="identifier">all</span><span>.</span><span class="identifier">_</span><span>

</span><span class="keyword">val</span><span> </span><span class="identifier">d</span><span>: </span><span class="type-name">Diet</span><span>[</span><span class="type-name">Int</span><span>] = </span><span class="type-name">Diet</span><span>.</span><span class="identifier">empty</span><span>
</span><span class="comment">// d: Diet[Int] = EmptyDiet()
</span><span class="identifier">d</span><span>.</span><span class="identifier">isEmpty</span><span>
</span><span class="comment">// res0: Boolean = true
</span><span>
</span><span class="identifier">d</span><span>.</span><span class="identifier">show</span><span>
</span><span class="comment">// res1: String = &quot;Diet( )&quot;</span></code></pre>
        <p>And we can add an item:</p>
        <pre class="keep-together pdf epub"><code class="nohighlight"><span class="keyword">val</span><span> </span><span class="identifier">d2</span><span> = </span><span class="identifier">d</span><span>.</span><span class="identifier">add</span><span>(</span><span class="number-literal">12</span><span>)
</span><span class="comment">// d2: Diet[Int] = DietNode(Range(12, 12), EmptyDiet(), EmptyDiet())
</span><span class="identifier">d2</span><span>.</span><span class="identifier">isEmpty</span><span>
</span><span class="comment">// res2: Boolean = false
</span><span>
</span><span class="identifier">d2</span><span>.</span><span class="identifier">show</span><span>
</span><span class="comment">// res3: String = &quot;Diet( [12, 12] )&quot;</span></code></pre>
        <p>And now we can check that it thinks 12 is in the set, but not other numbers</p>
        <pre class="keep-together pdf epub"><code class="nohighlight"><span class="identifier">d2</span><span>.</span><span class="identifier">contains</span><span>(</span><span class="number-literal">1</span><span>)
</span><span class="comment">// res4: Boolean = false
</span><span class="identifier">d2</span><span>.</span><span class="identifier">contains</span><span>(</span><span class="number-literal">12</span><span>)
</span><span class="comment">// res5: Boolean = true</span></code></pre>
        <p>If we remove our only element, we get back to the empty Diet:</p>
        <pre class="keep-together pdf epub"><code class="nohighlight"><span class="keyword">val</span><span> </span><span class="identifier">d3</span><span> = </span><span class="identifier">d2</span><span>.</span><span class="identifier">remove</span><span>(</span><span class="number-literal">12</span><span>)
</span><span class="comment">// d3: Diet[Int] = EmptyDiet()
</span><span class="identifier">d3</span><span>.</span><span class="identifier">isEmpty</span><span>
</span><span class="comment">// res6: Boolean = true</span></code></pre>
        <p>Asking to remove an element not in the set is a noop:</p>
        <pre class="keep-together pdf epub"><code class="nohighlight"><span class="keyword">val</span><span> </span><span class="identifier">s</span><span> = </span><span class="type-name">Diet</span><span>.</span><span class="identifier">empty</span><span>[</span><span class="type-name">Int</span><span>].</span><span class="identifier">remove</span><span>(</span><span class="number-literal">10</span><span>)
</span><span class="comment">// s: Diet[Int] = EmptyDiet()
</span><span>
</span><span class="identifier">s</span><span>.</span><span class="identifier">show</span><span>
</span><span class="comment">// res7: String = &quot;Diet( )&quot;</span></code></pre>
        <p>Diet excels at storing ranges, so there are also operations that work on ranges of values:</p>
        <pre><code class="nohighlight"><span class="keyword">val</span><span> </span><span class="identifier">d</span><span> = </span><span class="type-name">Diet</span><span>.</span><span class="identifier">empty</span><span>[</span><span class="type-name">Int</span><span>].</span><span class="identifier">addRange</span><span>(</span><span class="number-literal">1</span><span> </span><span class="identifier">toIncl</span><span> </span><span class="number-literal">20</span><span>)
</span><span class="comment">// d: Diet[Int] = DietNode(Range(1, 20), EmptyDiet(), EmptyDiet())
</span><span class="identifier">d</span><span>.</span><span class="identifier">contains</span><span>(</span><span class="number-literal">21</span><span>)
</span><span class="comment">// res8: Boolean = false
</span><span class="identifier">d</span><span>.</span><span class="identifier">contains</span><span>(</span><span class="number-literal">20</span><span>)
</span><span class="comment">// res9: Boolean = true
</span><span class="identifier">d</span><span>.</span><span class="identifier">contains</span><span>(</span><span class="number-literal">10</span><span>)
</span><span class="comment">// res10: Boolean = true
</span><span>
</span><span class="keyword">val</span><span> </span><span class="identifier">d2</span><span> = </span><span class="identifier">d</span><span> - (</span><span class="number-literal">10</span><span> </span><span class="identifier">toIncl</span><span> </span><span class="number-literal">12</span><span>)
</span><span class="comment">// d2: Diet[Int] = DietNode(
//   Range(1, 9),
//   EmptyDiet(),
//   DietNode(Range(13, 20), EmptyDiet(), EmptyDiet())
// )
</span><span>
</span><span class="identifier">d2</span><span>.</span><span class="identifier">show</span><span>
</span><span class="comment">// res11: String = &quot;Diet( [1, 9] [13, 20] )&quot;
</span><span>
</span><span class="identifier">d2</span><span>.</span><span class="identifier">contains</span><span>(</span><span class="number-literal">10</span><span>)
</span><span class="comment">// res12: Boolean = false
</span><span class="identifier">d2</span><span>.</span><span class="identifier">containsRange</span><span>(</span><span class="number-literal">1</span><span> </span><span class="identifier">toIncl</span><span> </span><span class="number-literal">5</span><span>)
</span><span class="comment">// res13: Boolean = true
</span><span class="identifier">d2</span><span>.</span><span class="identifier">containsRange</span><span>(</span><span class="number-literal">11</span><span> </span><span class="identifier">toIncl</span><span> </span><span class="number-literal">15</span><span>) </span><span class="comment">// fails since not the entire range is contained
// res14: Boolean = false</span></code></pre>
        <p>Given two Diets, we can find the union or the intersection:</p>
        <pre class="keep-together pdf epub"><code class="nohighlight"><span class="keyword">val</span><span> </span><span class="identifier">d1</span><span> = </span><span class="type-name">Diet</span><span>.</span><span class="identifier">empty</span><span>[</span><span class="type-name">Int</span><span>] + (</span><span class="number-literal">5</span><span> </span><span class="identifier">toIncl</span><span> </span><span class="number-literal">10</span><span>)
</span><span class="comment">// d1: Diet[Int] = DietNode(Range(5, 10), EmptyDiet(), EmptyDiet())
</span><span class="keyword">val</span><span> </span><span class="identifier">d2</span><span> = </span><span class="type-name">Diet</span><span>.</span><span class="identifier">empty</span><span>[</span><span class="type-name">Int</span><span>] + (</span><span class="number-literal">7</span><span> </span><span class="identifier">toIncl</span><span> </span><span class="number-literal">12</span><span>)
</span><span class="comment">// d2: Diet[Int] = DietNode(Range(7, 12), EmptyDiet(), EmptyDiet())
</span><span>(</span><span class="identifier">d1</span><span> &amp; </span><span class="identifier">d2</span><span>).</span><span class="identifier">show</span><span>
</span><span class="comment">// res15: String = &quot;Diet( [7, 10] )&quot;
</span><span>(</span><span class="identifier">d1</span><span> | </span><span class="identifier">d2</span><span>).</span><span class="identifier">show</span><span>
</span><span class="comment">// res16: String = &quot;Diet( [5, 12] )&quot;</span></code></pre>
        <p>Asking to remove non existing range yields the same diet</p>
        <pre class="keep-together pdf epub"><code class="nohighlight"><span class="keyword">val</span><span> </span><span class="identifier">d</span><span> = </span><span class="type-name">Diet</span><span>.</span><span class="identifier">empty</span><span>[</span><span class="type-name">Int</span><span>].</span><span class="identifier">addRange</span><span>((</span><span class="number-literal">5</span><span> </span><span class="identifier">toIncl</span><span> </span><span class="number-literal">20</span><span>))
</span><span class="comment">// d: Diet[Int] = DietNode(Range(5, 20), EmptyDiet(), EmptyDiet())
</span><span>
</span><span class="keyword">val</span><span> </span><span class="identifier">d1</span><span> = </span><span class="identifier">d</span><span>.</span><span class="identifier">removeRange</span><span>((</span><span class="number-literal">1</span><span> </span><span class="identifier">toIncl</span><span> </span><span class="number-literal">4</span><span>))
</span><span class="comment">// d1: Diet[Int] = DietNode(Range(5, 20), EmptyDiet(), EmptyDiet())
</span><span class="identifier">d1</span><span>.</span><span class="identifier">show</span><span>
</span><span class="comment">// res17: String = &quot;Diet( [5, 20] )&quot;</span></code></pre>
        <p>Asking to remove a range yields a new Diet without the range</p>
        <pre class="keep-together pdf epub"><code class="nohighlight"><span class="keyword">val</span><span> </span><span class="identifier">d</span><span> = </span><span class="type-name">Diet</span><span>.</span><span class="identifier">empty</span><span>[</span><span class="type-name">Int</span><span>].</span><span class="identifier">addRange</span><span>((</span><span class="number-literal">5</span><span> </span><span class="identifier">toIncl</span><span> </span><span class="number-literal">20</span><span>)).</span><span class="identifier">addRange</span><span>(</span><span class="number-literal">22</span><span> </span><span class="identifier">toIncl</span><span> </span><span class="number-literal">30</span><span>)
</span><span class="comment">// d: Diet[Int] = DietNode(
//   Range(5, 20),
//   EmptyDiet(),
//   DietNode(Range(22, 30), EmptyDiet(), EmptyDiet())
// )
</span><span class="keyword">val</span><span> </span><span class="identifier">d2</span><span> = </span><span class="identifier">d</span><span>.</span><span class="identifier">removeRange</span><span>((</span><span class="number-literal">5</span><span> </span><span class="identifier">toIncl</span><span> </span><span class="number-literal">20</span><span>))
</span><span class="comment">// d2: Diet[Int] = DietNode(Range(22, 30), EmptyDiet(), EmptyDiet())
</span><span>
</span><span class="identifier">d2</span><span>.</span><span class="identifier">show</span><span>
</span><span class="comment">// res18: String = &quot;Diet( [22, 30] )&quot;</span></code></pre>
        <p>Asking to remove a sub-range splits the Diet</p>
        <pre><code class="nohighlight"><span class="keyword">val</span><span> </span><span class="identifier">d</span><span> = </span><span class="type-name">Diet</span><span>.</span><span class="identifier">empty</span><span>[</span><span class="type-name">Int</span><span>].</span><span class="identifier">addRange</span><span>((</span><span class="number-literal">5</span><span> </span><span class="identifier">toIncl</span><span> </span><span class="number-literal">20</span><span>))
</span><span class="comment">// d: Diet[Int] = DietNode(Range(5, 20), EmptyDiet(), EmptyDiet())
</span><span class="keyword">val</span><span> </span><span class="identifier">d3</span><span> = </span><span class="identifier">d</span><span>.</span><span class="identifier">removeRange</span><span>((</span><span class="number-literal">10</span><span> </span><span class="identifier">toIncl</span><span> </span><span class="number-literal">15</span><span>))
</span><span class="comment">// d3: Diet[Int] = DietNode(
//   Range(5, 9),
//   EmptyDiet(),
//   DietNode(Range(16, 20), EmptyDiet(), EmptyDiet())
// )
</span><span>
(</span><span class="number-literal">10</span><span> </span><span class="identifier">toIncl</span><span> </span><span class="number-literal">15</span><span>).</span><span class="identifier">toList</span><span>.</span><span class="identifier">forall</span><span> { </span><span class="identifier">i</span><span> =&gt; </span><span class="identifier">d3</span><span>.</span><span class="identifier">contains</span><span>(</span><span class="identifier">i</span><span>) }
</span><span class="comment">// res19: Boolean = false
</span><span>(</span><span class="number-literal">5</span><span> </span><span class="identifier">toIncl</span><span> </span><span class="number-literal">9</span><span>).</span><span class="identifier">toList</span><span>.</span><span class="identifier">forall</span><span> {</span><span class="identifier">i</span><span> =&gt; </span><span class="identifier">d3</span><span>.</span><span class="identifier">contains</span><span>(</span><span class="identifier">i</span><span>) }
</span><span class="comment">// res20: Boolean = true
</span><span>(</span><span class="number-literal">16</span><span> </span><span class="identifier">toIncl</span><span> </span><span class="number-literal">20</span><span>).</span><span class="identifier">toList</span><span>.</span><span class="identifier">forall</span><span> {</span><span class="identifier">i</span><span> =&gt; </span><span class="identifier">d3</span><span>.</span><span class="identifier">contains</span><span>(</span><span class="identifier">i</span><span>) }
</span><span class="comment">// res21: Boolean = true</span></code></pre>
        <p>Adding a inverted range</p>
        <pre class="keep-together pdf epub"><code class="nohighlight"><span class="keyword">val</span><span> </span><span class="identifier">d</span><span> = </span><span class="type-name">Diet</span><span>.</span><span class="identifier">empty</span><span>[</span><span class="type-name">Int</span><span>] + </span><span class="type-name">Range</span><span>(</span><span class="number-literal">20</span><span>, </span><span class="number-literal">10</span><span>)
</span><span class="comment">// d: Diet[Int] = DietNode(Range(10, 20), EmptyDiet(), EmptyDiet())
</span><span>
</span><span class="identifier">d</span><span>.</span><span class="identifier">show</span><span>
</span><span class="comment">// res22: String = &quot;Diet( [10, 20] )&quot;</span></code></pre>

        <hr style="margin-top: 30px"/>
        <footer style="font-size: 90%; text-align: center">
          cats-collections is a <a href="https://typelevel.org/">Typelevel</a> project distributed under the <a href="https://opensource.org/licenses/MIT">MIT</a> license.
        </footer>

      </main>

    </div>

  </body>
</html>
